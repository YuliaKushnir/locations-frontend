"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[119],{119:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(43),c=t(582),n=t(579);const r=e=>(0,n.jsx)("div",{className:"avatar ".concat(e.className),style:e.style,children:(0,n.jsx)("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}})});var l=t(837);const i=e=>(0,n.jsx)("li",{className:"user-item",children:(0,n.jsx)(l.A,{className:"user-item__content",children:(0,n.jsxs)(c.N_,{to:"/".concat(e.id,"/places"),children:[(0,n.jsx)("div",{className:"user-item__image",children:(0,n.jsx)(r,{image:"".concat("http://localhost:5000","/").concat(e.image),alt:e.name})}),(0,n.jsxs)("div",{className:"user-item__info",children:[(0,n.jsx)("h2",{children:e.name}),(0,n.jsxs)("h3",{children:[e.placeCount," ",1===e.placeCount?"Place":"Places"]})]})]})})}),o=e=>0===e.items.length?(0,n.jsx)("div",{className:"center",children:(0,n.jsx)(l.A,{children:(0,n.jsx)("h2",{children:"No users found."})})}):(0,n.jsx)("ul",{className:"users-list",children:e.items.map(e=>(0,n.jsx)(i,{id:e.id,image:e.image,name:e.name,placeCount:e.places.length},e.id))});var d=t(863),h=t(171);const u=()=>{const{isLoading:e,sendRequest:s}=(0,h.x)(),[t,c]=(0,a.useState)();return(0,a.useEffect)(()=>{(async()=>{try{const e=await s("http://localhost:5000/api/users");c(e.users)}catch(e){}})()},[s]),(0,n.jsxs)(a.Fragment,{children:[e&&(0,n.jsx)("div",{className:"center",children:(0,n.jsx)(d.A,{})}),!e&&t&&(0,n.jsx)(o,{items:t})]})}},171:(e,s,t)=>{t.d(s,{x:()=>c});var a=t(43);const c=()=>{const[e,s]=(0,a.useState)(!1),[t,c]=(0,a.useState)(),n=(0,a.useRef)([]),r=(0,a.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s(!0);const l=new AbortController;n.current.push(l);try{const c=await fetch(e,{method:t,body:a,headers:r,signal:l.signal}),i=await c.json();if(n.current=n.current.filter(e=>e!==l),!c.ok)throw new Error(i.message);return s(!1),i}catch(i){throw c(i.message),s(!1),i}},[]);return(0,a.useEffect)(()=>()=>{n.current.forEach(e=>e.abort())},[]),{isLoading:e,error:t,sendRequest:r,clearError:()=>{c(null)}}}},837:(e,s,t)=>{t.d(s,{A:()=>c});t(43);var a=t(579);const c=e=>(0,a.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}}]);
//# sourceMappingURL=119.3e8e3f6b.chunk.js.map